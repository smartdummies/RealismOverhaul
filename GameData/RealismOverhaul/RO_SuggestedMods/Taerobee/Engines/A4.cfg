@PART[a4_master]:FOR[RealismOverhaul]:NEEDS[Taerobee/Parts/Bumper]
{
	@hasModels = true
	
	//Bare
	MODEL
	{
		name = TaerobeeBare
		model = Taerobee/Parts/Bumper/Bumper_Engine_Unclad
		position = 0.0, -1.690624, 0.0
		scale = 2.6416, 2.6416, 2.6416
	}
	
	//Shroud
	MODEL
	{
		name = TaerobeeShroud
		model = Taerobee/Parts/Bumper/Bumper_Engine
		position = 0.0, -1.690624, 0.0
		scale = 2.6416, 2.6416, 2.6416
	}

	//Create the variant that uses this model
	@MODULE[ModulePartVariants]
	{		
		VARIANT
		{
			name = TaerobeeBare
			displayName = Taerobee (Bare)
			primaryColor = #07c000
			secondaryColor = #ffffff
			GAMEOBJECTS
			{
				TaerobeeBare = true
				TaerobeeShroud = false
			}
			NODES
			{
				node_stack_top = 0.0, 0, 0.0, 0.0, 1.0, 0.0, 1
				node_stack_bottom = 0.0, -3.513328, 0.0, 0.0, -1.0, 0.0, 1
				attachRules = 1,1,1,0,0
			}	
			EXTRA_INFO
			{
				Resource/HTP = 80
			}
		}
		
		VARIANT
		{
			name = TaerobeeShroud
			displayName = Taerobee (Shroud)
			primaryColor = #07c000
			secondaryColor = #ffffff
			mass = 0.15 //Shroud adds 150kg
			GAMEOBJECTS
			{
				TaerobeeBare = false
				TaerobeeShroud = true
			}
			NODES
			{
				node_stack_top = 0.0, 0, 0.0, 0.0, 1.0, 0.0, 1
				node_stack_bottom = 0.0, -3.513328, 0.0, 0.0, -1.0, 0.0, 1
				attachRules = 1,1,1,1,0
			}
			EXTRA_INFO
			{
				Resource/HTP = 80
			}
		}
	}
	
	//Assign as the initial variant if it is not yet assigned
	@MODULE[ModulePartVariants]:HAS[#baseVariant[UNASSIGNED]]
	{
		@baseVariant = TaerobeeBare
	}
}

//Remove the model from all other variants
//Run after RealismOverhaul so all variants are created
@PART[a4_master]:AFTER[RealismOverhaul]:NEEDS[Taerobee/Parts/Bumper]
{
	
	//Set the SXT model to false for all other variants
	@MODULE[ModulePartVariants]
	{
		@VARIANT,*
		{
			@GAMEOBJECTS:HAS[~TaerobeeBare[*e]]
			{
				TaerobeeBare = false
				TaerobeeShroud = false
			}
		}
	}
}