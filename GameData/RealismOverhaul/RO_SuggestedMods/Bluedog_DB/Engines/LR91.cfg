@PART[lr91_master]:FOR[RealismOVerhaul]:NEEDS[Bluedog_DB/Parts/Titan]
{
	@isConfigured = true
	
	//Add the model
	MODEL
	{
		name = BDB
		model = Bluedog_DB/Parts/Titan/bluedog_LR91_mod2
		scale = 1.6267, 1.6267, 1.6267
		position = 0.0, -0.17069, 0.0
	}
	MODEL
	{
		name = BDBVernier
		model = RealismOverhaul/emptyengine
		position = 0.0, -0.90861, -0.3903
	}
	
	
	//Create the variant that uses this model
	@MODULE[ModulePartVariants]
	{		
		VARIANT
		{
			name = BDB
			displayName = Bluedog Design Bureau
			primaryColor = #824f82
			secondaryColor = #e8ccbb
			GAMEOBJECTS
			{
				BDB = true
				BDBMini = false
				BDBVernier = true
			}
			NODES
			{
				node_stack_bottom = 0.0, -2.03529, 0.0, 0.0, -1.0, 0.0, 2
			}	
		}
	}
	
	//Thrusttransform for vernier engine
	@MODULE[ModuleEnginesRF]:HAS[!THRUST_TRANSFORM[newThrustTransform]]
	{
		THRUST_TRANSFORM
		{
			name = newThrustTransform
			multiplier = 0.01
		}
	}
	
	//Vernier gimbal
	@MODULE[ModuleGimbal]:HAS[#gimbalType[vernier],~gimbalTransformName[newThrustTransform]]
	{
		gimbalTransformName,0 = newThrustTransform
	}
	
	//Disable fairing shroud
	MODULE
	{
		name = ModuleB9DisableTransform
		transform = fairing
	}
	
	//Assign as the initial variant if it is not yet assigned
	@MODULE[ModulePartVariants]:HAS[#baseVariant[UNASSIGNED]]
	{
		@baseVariant = BDB
	}
}

//Remove the model from all other variants
//Run after RealismOverhaul so all variants are created
@PART[lr91_master]:AFTER[RealismOverhaul]:NEEDS[Bluedog_DB/Parts/Titan]
{
	
	//Set the Bluedog model to false for all other variants
	@MODULE[ModulePartVariants]
	{
		@VARIANT,*
		{
			@GAMEOBJECTS:HAS[~BDB[*rue]]
			{
				%BDB = false
				%BDBVernier = false
			}
		}
	}
}