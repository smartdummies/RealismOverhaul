@PART[rcs_quad_angled_master]:FOR[RealismOverhaul]:NEEDS[ReStockPlus/Assets/Control]
{
	@hasModels = true
	
	//Add the model
	MODEL
	{
		name = ReStockPlus
		model = ReStockPlus/Assets/Control/restock-rcs-block-quad-angled-1
		scale = 1.8591772, 1.8591772, 1.8591772
	}
	MODEL
	{
		name = ReStockPlusMini
		model = ReStockPlus/Assets/Control/restock-rcs-block-quad-angled-mini-1
		scale = 3.164556962, 3.164556962, 3.164556962
		position = 0.03352181, 0.0, 0.0
	}
	
	//Create the variant that uses this model
	@MODULE[ModulePartVariants]
	{		
		VARIANT
		{
			name = ReStockPlus
			displayName = ReStockPlus
			primaryColor = #e8ccbb
			secondaryColor = #a0407d
			GAMEOBJECTS
			{
				ReStockPlus = true
			}
		}
		VARIANT
		{
			name = ReStockPlusMini
			displayName = ReStockPlus Mini
			primaryColor = #e8ccbb
			secondaryColor = #a0407d
			GAMEOBJECTS
			{
				ReStockPlusMini = true
			}
		}
	}
	
	//Assign as the initial variant if it is not yet assigned
	@MODULE[ModulePartVariants]:HAS[#baseVariant[UNASSIGNED]]
	{
		@baseVariant = ReStockPlus
	}
}

//Remove the model from all other variants
//Run after RealismOverhaul so all variants are created
@PART[rcs_quad_angled_master]:AFTER[RealismOverhaul]:NEEDS[ReStockPlus/Assets/Control]
{
	
	//Set the ReStockPlus model to false for all other variants
	@MODULE[ModulePartVariants]
	{
		@VARIANT,*
		{
			@GAMEOBJECTS:HAS[~ReStockPlus[*rue]]
			{
				%ReStockPlus = false
			}
			@GAMEOBJECTS:HAS[~ReStockPlusMini[*rue]]
			{
				%ReStockPlusMini = false
			}
		}
	}
}